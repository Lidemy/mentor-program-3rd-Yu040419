以下心得都是當周完成的時候寫下的心得。
## 十一週心得
雖然留言板一開始寫得很痛苦，程式碼看起來很亂很難維護，但每次再加新功能時都會覺得很有成就感，是自己一字一句建造出來的網站，就像是自己生出來的小孩，看著會覺得很感動。
## 十二週心得
這周最大的心得就是，還是把功課做好就好了，不要隨便想一些其他的功能，最後搞死的都是自己（厭世中）。

十二周想加的 confirm 功能真的是把我搞到快崩潰，本來想說在 JS 就是如此簡單的一個東西，應該搬來 PHP 也不難阿，所以就很自我的把功課做完後自顧自地寫了 confirm 功能。但代誌不是憨人所想得那麼簡單，一開始自己寫了一個在 uils.php 內，運作失敗後想說還是請估狗大神幫幫忙好了，找了一堆範例後還是都以失敗作結。

心灰意冷之際要就這麼交功課的時候，突然想到，咦，如果用 query string 帶資料不知道可不可行，所以後來又試著寫出來看看，雖然有點迂迴但順利成功了。成功的當下真的是內心大聲歡呼，是一個本來想放棄、但又繼續硬著頭皮試了的少數成功經驗。這次經驗給自己多了一點點自信，代表自己還是有可能靠自己想出解決辦法的。

另外，看完作業答案之後發現自己就是老師說的，典型沒有仔細想的更多的人，再確認登入的時候只檢查了有沒有 token，但更精確的做法應該是要取 token 值並比對資料庫的 token 是否相同。
## 十三週心得
看完了這周實做 API 的教學，有種任督二脈被打通的感覺，原來之前串的 API 就是這樣運作，才可以順利拿到資料，突然很想跟之前學 API 的自己說，如果有點難理解沒關係啦，到了第十三周就會知道 API 在幹什麼了！

雖然可以理解，但離能夠實做出來還有一段距離，查了很多筆記跟資料後，後來是偷看了同學的作業才有點想法，開始寫後就突然茅塞頓悟，是很有趣的一次學習歷程。
## 十四週心得
佈署流程及問題解決，有另外整理另一篇 [筆記](https://hackmd.io/@Yu040419/deployment)。

佈署這周算是目前學到現在，個人覺得最多需要研究的東西了。可能是因為深入到電腦更深層的設定跟架構，一個小 bug 就要研究好久，很像回到最初開始學程式的時候，想查一個小東西時，都會陷入一個可怕的查資料地獄XD

這周因為不同的 MySQL 版本導致的錯誤訊息研究了很久，後來是透過加上 `GROUP BY` 語法解決。這是第一次因為版本不同遇到的錯誤訊息，覺得很特別外，也是切身體驗到版本對於程式的重要性。
## 十五週心得
這周主要在複習資安、Bootstrap、php 跟 MySQL。資安主要是透過老師提供的闖關遊戲，Bootstrap 套用了更多樣式，練習 php 跟 MySQL 的部分則是多新增了幾個功能。
### 資訊安全
這次老師提供的三個闖關遊戲中玩了頭兩個，第一個遊戲六關破了四關，但第四關是看別人提供的攻略才成功破解的。第二個遊戲給我的感覺比較像老師跟 min 一起製作的異世界，都比較偏向需要仔細看程式碼跟找各種小細節，讓我感覺很像回到小時候，玩著厚厚電腦螢幕的小遊戲「誰來找碴」（完全透漏年代）。兩個遊戲都很有趣，不過礙於時間沒有把所有的關都闖完。

另外這次也想補強 CSRF 的攻擊，希望是可以透過 SameSite 設定 Lax 防範。不過不知道為什麼一直設定不成功，有將程式碼備註在檔案 `handle_register` 及 `handle_login` 裡，想請老師協助看看，感謝！
### Bootstrap
這周想加強 Bootstrap，主要原因是之前只透過 Bootstrap 改了最頭痛的導覽列。不過光是導覽列就改的有點痛苦，留下了並不是太好的回憶，這次實作希望可以抹除上次的回憶，感受一下為什麼 Bootstrap 這麼受歡迎外，也期待可以更仔細地讀過 Bootstrap 文件。

這次花了點時間仔細讀過跟實作後，終於搞懂 Utilities 跟 Components 的差異，並第一次試用了 Bootstrap 提供的 jQuery 語法。修改了主頁、使用者的個人頁面、在未登入頁面加入提示 Tooltips、並微調導覽列。

在這次的作業當中，基本上都盡量使用 Bootstrap 所提供的功能，可以使用 class 就不寫 CSS、可以使用 icon 就不放圖片，盡量讓自己多熟悉一點。不過目前還在習慣這種很多 class 有點亂的頁面，不知道這樣 class 名稱很多的 HTML 在實際工作當中是不是常態？

另外這次很有感的是 RWD 的部分，之前都是先以大螢幕（電腦版）為主，切完後偶爾還會忘記開 dev tool 看有沒有跑版。這次有記得先開 dev tool 的手機板面切版，切完後才看大螢幕有無問題。發現其實只要簡單換個切版順序，整體的 RWD 就好很多。
### PHP & MySQL
這次新增的功能是實作密碼加鹽、按讚及調整訪客介面。

雖然透過 PHP 的 `password_hash()` 裡面其實就有包含加鹽功能，但還是想說應該可以自己試試看，所以就難過的把所有的資料表都刪了（再度驗證一開始就必須設定好完整 schema 的重要性）。

按讚功能比我想的要再複雜一點點，不過寫這個功能時倒是沒遇到特別難解的 bug，還算順利的結束。目前是以按讚時會重新算資料庫的讚數，退讚時直接減 1 的作法。

這次調整訪客頁面，主要是因為大多的功能都藏在登入後的頁面，訪客頁面看起來有點無趣，調整後希望讓不熟悉版面的人，在還沒登入時也可以大概了解這個留言板有的功能。主要是把送出回覆的按鈕改成導向登入頁面的按鈕，以及按讚時顯示提示框提醒登入。

這次在做測試時，發現只要輸入 emoji 表情符號，就會留言失敗，而且 ajax 還是會渲染出留言，但使用者名稱及時間就會呈現 undefined。查了 [一下](https://stackoverflow.com/questions/35125933/mysql-utf8mb4-errors-when-saving-emojis) 看到一些是更改資料庫編碼的方式，所以改了資料表留言那欄的編碼，變成是 `utf8mb4`，也把資料表編碼整個改成了 `utf8mb4_unicode_ci`，但改完之後反而變成所有留言都沒有辦法渲染出來。想請問老師 emoji 的問題是我搞錯方向 debug 了嗎？